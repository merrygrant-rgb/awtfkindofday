---
layout: layouts/base.njk
permalink: /
---

<!-- ==================== HERO ==================== -->
<section class="hero">
  <div class="hero-content">
    <div class="hero-eyebrow">Est. 2025 · The Chaos Dispatch</div>
    <h1 class="hero-headline">
      Some Days Make You Question the <em>Simulation.</em>
    </h1>
    <p class="hero-sub">A humor-forward space for modern adults surviving work, relationships, minor disasters, and socially questionable behavior. No advice. Just solidarity.</p>
    <div class="hero-buttons">
      <a href="#featured" class="btn btn-primary">Read Today's WTF →</a>
      <a href="#merch" class="btn btn-secondary">Shop the Chaos</a>
    </div>
    <div class="hero-stats">
      <div>
        <span class="hero-stat-num">{{ collections.posts | length or '247' }}</span>
        <span class="hero-stat-label">WTFs Documented</span>
      </div>
      <div>
        <span class="hero-stat-num">14k</span>
        <span class="hero-stat-label">Emotionally Validated</span>
      </div>
      <div>
        <span class="hero-stat-num">∞</span>
        <span class="hero-stat-label">Spreadsheets Judged</span>
      </div>
    </div>
  </div>
  <div class="hero-visual">
    <div class="hero-art">
      <svg viewBox="0 0 360 400" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="20" y="350" width="320" height="30" fill="#f4f4f4"/>
        <line x1="20" y1="350" x2="340" y2="350" stroke="#0a0a0a" stroke-width="1.5"/>
        <g transform="rotate(-2 180 200)">
          <rect x="60" y="40" width="240" height="280" rx="2" fill="#fafafa" stroke="#0a0a0a" stroke-width="2"/>
          <circle cx="100" cy="50" r="5" fill="none" stroke="#0a0a0a" stroke-width="1.5"/>
          <circle cx="140" cy="50" r="5" fill="none" stroke="#0a0a0a" stroke-width="1.5"/>
          <circle cx="180" cy="50" r="5" fill="none" stroke="#0a0a0a" stroke-width="1.5"/>
          <circle cx="220" cy="50" r="5" fill="none" stroke="#0a0a0a" stroke-width="1.5"/>
          <circle cx="260" cy="50" r="5" fill="none" stroke="#0a0a0a" stroke-width="1.5"/>
          <rect x="60" y="65" width="240" height="35" fill="#0a0a0a"/>
          <line x1="85" y1="82" x2="175" y2="82" stroke="#fafafa" stroke-width="2.5" stroke-linecap="round"/>
          <line x1="60" y1="120" x2="300" y2="120" stroke="#0a0a0a" stroke-width="1"/>
          <line x1="94" y1="100" x2="94" y2="320" stroke="#0a0a0a" stroke-width="1"/>
          <line x1="128" y1="100" x2="128" y2="320" stroke="#0a0a0a" stroke-width="1"/>
          <line x1="162" y1="100" x2="162" y2="320" stroke="#0a0a0a" stroke-width="1"/>
          <line x1="196" y1="100" x2="196" y2="320" stroke="#0a0a0a" stroke-width="1"/>
          <line x1="230" y1="100" x2="230" y2="320" stroke="#0a0a0a" stroke-width="1"/>
          <line x1="264" y1="100" x2="264" y2="320" stroke="#0a0a0a" stroke-width="1"/>
          <line x1="60" y1="145" x2="300" y2="145" stroke="#0a0a0a" stroke-width="1"/>
          <line x1="60" y1="180" x2="300" y2="180" stroke="#0a0a0a" stroke-width="1"/>
          <line x1="60" y1="215" x2="300" y2="215" stroke="#0a0a0a" stroke-width="1"/>
          <line x1="60" y1="250" x2="300" y2="250" stroke="#0a0a0a" stroke-width="1"/>
          <line x1="60" y1="285" x2="300" y2="285" stroke="#0a0a0a" stroke-width="1"/>
          <text x="75" y="115" font-family="Montserrat, sans-serif" font-size="11" font-weight="700" fill="#0a0a0a">M</text>
          <text x="108" y="115" font-family="Montserrat, sans-serif" font-size="11" font-weight="700" fill="#0a0a0a">T</text>
          <text x="143" y="115" font-family="Montserrat, sans-serif" font-size="11" font-weight="700" fill="#0a0a0a">W</text>
          <text x="176" y="115" font-family="Montserrat, sans-serif" font-size="11" font-weight="700" fill="#0a0a0a">T</text>
          <text x="213" y="115" font-family="Montserrat, sans-serif" font-size="11" font-weight="700" fill="#0a0a0a">F</text>
          <text x="245" y="115" font-family="Montserrat, sans-serif" font-size="11" font-weight="700" fill="#0a0a0a">S</text>
          <text x="278" y="115" font-family="Montserrat, sans-serif" font-size="11" font-weight="700" fill="#0a0a0a">S</text>
          <text x="74" y="138" font-family="Montserrat, sans-serif" font-size="10" font-weight="600" fill="#999">1</text>
          <text x="107" y="138" font-family="Montserrat, sans-serif" font-size="10" font-weight="600" fill="#999">2</text>
          <text x="141" y="138" font-family="Montserrat, sans-serif" font-size="10" font-weight="600" fill="#999">3</text>
          <text x="74" y="173" font-family="Montserrat, sans-serif" font-size="10" font-weight="600" fill="#0a0a0a">8</text>
          <text x="107" y="173" font-family="Montserrat, sans-serif" font-size="10" font-weight="600" fill="#0a0a0a">9</text>
          <rect x="130" y="150" width="30" height="28" fill="#cc3333" opacity="0.15"/>
          <text x="138" y="173" font-family="Montserrat, sans-serif" font-size="10" font-weight="900" fill="#cc3333">10</text>
          <path d="M150,157 C150,154 151.5,152 152.5,150 C153,153 154,153.5 154.5,152 C154.5,155 156,156 155,158 C154,159.5 151,159.5 150,157Z" fill="#cc3333"/>
          <circle cx="178" cy="165" r="12" fill="none" stroke="#cc3333" stroke-width="2" stroke-dasharray="2,2"/>
          <text x="172" y="173" font-family="Montserrat, sans-serif" font-size="10" font-weight="900" fill="#cc3333">11</text>
          <text x="166" y="182" font-family="Montserrat, sans-serif" font-size="5" font-weight="700" fill="#cc3333">OVERDUE</text>
          <text x="74" y="208" font-family="Montserrat, sans-serif" font-size="10" font-weight="600" fill="#0a0a0a">15</text>
          <text x="104" y="208" font-family="Montserrat, sans-serif" font-size="10" font-weight="600" fill="#999" opacity="0.4">16</text>
          <line x1="100" y1="198" x2="118" y2="212" stroke="#0a0a0a" stroke-width="2"/>
          <line x1="118" y1="198" x2="100" y2="212" stroke="#0a0a0a" stroke-width="2"/>
          <rect x="130" y="185" width="30" height="28" fill="#c8a96e"/>
          <text x="138" y="208" font-family="Montserrat, sans-serif" font-size="10" font-weight="900" fill="#0a0a0a">17</text>
          <text x="134" y="197" font-family="Montserrat, sans-serif" font-size="5" font-weight="700" fill="#0a0a0a">TODAY</text>
          <text x="172" y="208" font-family="Montserrat, sans-serif" font-size="10" font-weight="600" fill="#999">18</text>
          <text x="206" y="208" font-family="Montserrat, sans-serif" font-size="10" font-weight="600" fill="#999">19</text>
          <text x="74" y="243" font-family="Montserrat, sans-serif" font-size="10" font-weight="600" fill="#999">22</text>
          <text x="104" y="243" font-family="Montserrat, sans-serif" font-size="10" font-weight="600" fill="#999">23</text>
          <text x="138" y="243" font-family="Montserrat, sans-serif" font-size="10" font-weight="600" fill="#999">24</text>
          <text x="74" y="278" font-family="Montserrat, sans-serif" font-size="10" font-weight="600" fill="#999">29</text>
          <text x="104" y="278" font-family="Montserrat, sans-serif" font-size="10" font-weight="600" fill="#999">30</text>
          <text x="138" y="278" font-family="Montserrat, sans-serif" font-size="10" font-weight="600" fill="#999">31</text>
          <line x1="200" y1="195" x2="285" y2="195" stroke="#cc3333" stroke-width="1.5" stroke-linecap="round" stroke-dasharray="1,2"/>
          <line x1="200" y1="203" x2="270" y2="203" stroke="#cc3333" stroke-width="1.5" stroke-linecap="round" stroke-dasharray="1,2"/>
          <line x1="200" y1="211" x2="280" y2="211" stroke="#cc3333" stroke-width="1.5" stroke-linecap="round" stroke-dasharray="1,2"/>
          <text x="215" y="238" font-family="Georgia, serif" font-size="16" font-weight="700" fill="#cc3333">!</text>
          <text x="248" y="235" font-family="Georgia, serif" font-size="13" font-weight="700" fill="#cc3333" opacity="0.6">!</text>
          <text x="270" y="243" font-family="Georgia, serif" font-size="11" font-weight="700" fill="#cc3333" opacity="0.3">!</text>
        </g>
        <g transform="rotate(25 95 345)">
          <ellipse cx="95" cy="362" rx="18" ry="6" fill="#c8a96e" opacity="0.3"/>
          <rect x="80" y="345" width="30" height="35" rx="2" fill="#fafafa" stroke="#0a0a0a" stroke-width="1.5"/>
          <path d="M110,355 Q118,355 118,362 Q118,369 110,369" stroke="#0a0a0a" stroke-width="1.5" fill="none"/>
          <line x1="85" y1="350" x2="105" y2="350" stroke="#c8a96e" stroke-width="1.5"/>
        </g>
        <rect x="240" y="280" width="50" height="48" fill="#f5efe4" stroke="#0a0a0a" stroke-width="1.5" transform="rotate(-8 265 304)"/>
        <line x1="248" y1="292" x2="280" y2="290" stroke="#0a0a0a" stroke-width="1" stroke-linecap="round" opacity="0.5"/>
        <line x1="248" y1="300" x2="275" y2="298" stroke="#0a0a0a" stroke-width="1" stroke-linecap="round" opacity="0.5"/>
        <rect x="252" y="265" width="50" height="48" fill="#fff5e6" stroke="#0a0a0a" stroke-width="1.5" transform="rotate(4 277 289)"/>
        <line x1="260" y1="277" x2="292" y2="278" stroke="#0a0a0a" stroke-width="1" stroke-linecap="round" opacity="0.5"/>
        <text x="310" y="110" font-family="Georgia, serif" font-size="22" font-weight="700" fill="#c8a96e" opacity="0.8">?</text>
        <text x="325" y="95" font-family="Georgia, serif" font-size="16" font-weight="700" fill="#0a0a0a" opacity="0.3">?</text>
        <rect x="300" y="360" width="28" height="28" fill="none" stroke="#c8a96e" stroke-width="1.5"/>
        <rect x="294" y="366" width="28" height="28" fill="none" stroke="#0a0a0a" stroke-width="1"/>
      </svg>
    </div>
    <div class="hero-art-label">Schedule? More Like Crime Scene.</div>
  </div>
</section>

<!-- ==================== TICKER ==================== -->
<div class="ticker" aria-hidden="true">
  <div class="ticker-inner">
    <div class="ticker-item">
      <span>Workplace Nonsense</span><span class="ticker-dot"></span>
      <span>Justified Irritation</span><span class="ticker-dot"></span>
      <span>Relationship Confusion</span><span class="ticker-dot"></span>
      <span>Minor Catastrophes</span><span class="ticker-dot"></span>
      <span>Social Violations</span><span class="ticker-dot"></span>
      <span>Corporate Survival</span><span class="ticker-dot"></span>
      <span>Emotionally Validating Content</span><span class="ticker-dot"></span>
      <span>Dry Wit Since 2025</span><span class="ticker-dot"></span>
    </div>
    <div class="ticker-item" aria-hidden="true">
      <span>Workplace Nonsense</span><span class="ticker-dot"></span>
      <span>Justified Irritation</span><span class="ticker-dot"></span>
      <span>Relationship Confusion</span><span class="ticker-dot"></span>
      <span>Minor Catastrophes</span><span class="ticker-dot"></span>
      <span>Social Violations</span><span class="ticker-dot"></span>
      <span>Corporate Survival</span><span class="ticker-dot"></span>
      <span>Emotionally Validating Content</span><span class="ticker-dot"></span>
      <span>Dry Wit Since 2025</span><span class="ticker-dot"></span>
    </div>
  </div>
</div>

<!-- ==================== CATEGORIES ==================== -->
<section class="categories" id="categories">
  <div class="categories-header fade-up">
    <div>
      <div class="section-label">Navigate the Chaos</div>
      <h2 class="section-title">The WTF Files</h2>
    </div>
    <p class="categories-header-right">Four distinct flavors of daily suffering, neatly categorized for your reading convenience.</p>
  </div>
  <div class="categories-grid">
    <a href="/categories/work-wtfs" class="cat-card fade-up">
      <div class="cat-top">
        <span class="cat-num">01 / 04</span>
        <svg class="cat-icon" viewBox="0 0 48 48" fill="none"><rect x="6" y="10" width="36" height="28" rx="2" stroke-width="1.5"/><line x1="6" y1="18" x2="42" y2="18" stroke-width="1.5"/><line x1="16" y1="10" x2="16" y2="38" stroke-width="1.5"/><line x1="22" y1="24" x2="38" y2="24" stroke-width="1.5" stroke-linecap="round"/><line x1="22" y1="29" x2="35" y2="29" stroke-width="1.5" stroke-linecap="round"/></svg>
        <h3 class="cat-title">Work WTFs</h3>
        <p class="cat-desc">Corporate chaos. Professional nonsense. The peculiar theater of pretending a meeting couldn't have been an email. Daily survival in hostile spreadsheet territory.</p>
      </div>
      <div class="cat-bottom">
        <span class="cat-count">{{ collections.posts | where("category","Work WTFs") | length or '89' }} Posts</span>
        <div class="cat-arrow"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><line x1="2" y1="7" x2="12" y2="7" stroke-width="1.5" stroke-linecap="round"/><path d="M8 3.5L11.5 7L8 10.5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
      </div>
    </a>
    <a href="/categories/life-relationships" class="cat-card fade-up fade-up-delay-1">
      <div class="cat-top">
        <span class="cat-num">02 / 04</span>
        <svg class="cat-icon" viewBox="0 0 48 48" fill="none"><circle cx="18" cy="16" r="6" stroke-width="1.5"/><circle cx="30" cy="16" r="6" stroke-width="1.5"/><path d="M6 38c0-7 5.4-12 12-12" stroke-width="1.5" stroke-linecap="round"/><path d="M42 38c0-7-5.4-12-12-12" stroke-width="1.5" stroke-linecap="round"/></svg>
        <h3 class="cat-title">Life &amp; Relationships</h3>
        <p class="cat-desc">Trying to connect with humans. Sometimes it works. Often it's confusing. Occasionally it's one of those situations you replay at 3am wondering what exactly happened.</p>
      </div>
      <div class="cat-bottom">
        <span class="cat-count">{{ collections.posts | where("category","Life & Relationships") | length or '64' }} Posts</span>
        <div class="cat-arrow"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><line x1="2" y1="7" x2="12" y2="7" stroke-width="1.5" stroke-linecap="round"/><path d="M8 3.5L11.5 7L8 10.5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
      </div>
    </a>
    <a href="/categories/everyday-disasters" class="cat-card fade-up fade-up-delay-2">
      <div class="cat-top">
        <span class="cat-num">03 / 04</span>
        <svg class="cat-icon" viewBox="0 0 48 48" fill="none"><polygon points="24,6 44,38 4,38" stroke-width="1.5" stroke-linejoin="round"/><line x1="24" y1="20" x2="24" y2="29" stroke-width="2" stroke-linecap="round"/><circle cx="24" cy="34" r="1.5" fill="currentColor"/></svg>
        <h3 class="cat-title">Everyday Disasters</h3>
        <p class="cat-desc">Small catastrophes. Big feelings. The specific agony of the parking situation, the spilled coffee, the locked keys, and the WiFi that chose today to develop a personality.</p>
      </div>
      <div class="cat-bottom">
        <span class="cat-count">{{ collections.posts | where("category","Everyday Disasters") | length or '57' }} Posts</span>
        <div class="cat-arrow"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><line x1="2" y1="7" x2="12" y2="7" stroke-width="1.5" stroke-linecap="round"/><path d="M8 3.5L11.5 7L8 10.5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
      </div>
    </a>
    <a href="/categories/petty-offenses" class="cat-card fade-up fade-up-delay-3">
      <div class="cat-top">
        <span class="cat-num">04 / 04</span>
        <svg class="cat-icon" viewBox="0 0 48 48" fill="none"><rect x="8" y="8" width="14" height="14" rx="1" stroke-width="1.5"/><rect x="26" y="8" width="14" height="14" rx="1" stroke-width="1.5"/><rect x="8" y="26" width="14" height="14" rx="1" stroke-width="1.5"/><rect x="26" y="26" width="14" height="14" rx="1" stroke-width="1.5"/></svg>
        <h3 class="cat-title">Petty Offenses</h3>
        <p class="cat-desc">Justifiable irritation at everyday nonsense. The cart in the middle of the aisle. The reply-all. The unsolicited opinion. We catalog them with scientific rigor and zero apology.</p>
      </div>
      <div class="cat-bottom">
        <span class="cat-count">{{ collections.posts | where("category","Petty Offenses") | length or '37' }} Posts</span>
        <div class="cat-arrow"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><line x1="2" y1="7" x2="12" y2="7" stroke-width="1.5" stroke-linecap="round"/><path d="M8 3.5L11.5 7L8 10.5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
      </div>
    </a>
  </div>
</section>

<!-- ==================== GROUP CHAT CHRONICLES ==================== -->
<section class="chronicles" id="chronicles">
  <div class="chronicles-inner">
    <div class="chronicles-content">
      <div class="chronicles-label">Weekly Series · Sundays</div>
      <h2 class="chronicles-title">The Group Chat Chronicles</h2>
      
      {% set latestChronicle = collections.chronicles | limit(1) | first %}
      {% if latestChronicle %}
        <div class="chronicles-episode">Episode {{ latestChronicle.data.episode_number }}: {{ latestChronicle.data.episode_title }}</div>
        <p class="chronicles-tagline">"Every office has a Bill. Every survivor has a side chat."</p>
        <p class="chronicles-desc">{{ latestChronicle.data.teaser }}</p>
        <div class="chronicles-buttons">
          <a href="{{ latestChronicle.url }}" class="btn btn-primary">Read Episode {{ latestChronicle.data.episode_number }} →</a>
          <a href="/chronicles" class="btn btn-secondary">View the Archive</a>
        </div>
      {% else %}
        <!-- Placeholder when no episodes exist yet -->
        <div class="chronicles-episode">Episode 1: The Trauma Bond</div>
        <p class="chronicles-tagline">"Every office has a Bill. Every survivor has a side chat."</p>
        <p class="chronicles-desc">A semi-fictional study of corporate survival through the lens of group texts, passive aggression, and the sacred bond formed by those who simply cannot with Gary from Finance anymore.</p>
        <div class="chronicles-buttons">
          <a href="/chronicles" class="btn btn-primary">Coming Soon</a>
          <a href="/chronicles" class="btn btn-secondary">View the Archive</a>
        </div>
      {% endif %}
    </div>
    
    <div class="chronicles-visual">
      {% if latestChronicle and latestChronicle.data.featured_image %}
        <img src="{{ latestChronicle.data.featured_image }}" alt="{{ latestChronicle.data.title }}" class="chronicles-image">
      {% else %}
        <!-- Mock chat window SVG -->
        <svg class="chronicles-chat-mock" viewBox="0 0 400 500" fill="none" xmlns="http://www.w3.org/2000/svg">
          <!-- Phone frame -->
          <rect x="20" y="20" width="360" height="460" rx="30" fill="#0a0a0a" stroke="#0a0a0a" stroke-width="2"/>
          <rect x="32" y="80" width="336" height="380" rx="4" fill="#fafafa"/>
          
          <!-- Status bar -->
          <rect x="32" y="32" width="336" height="36" fill="#0a0a0a"/>
          <text x="200" y="56" font-family="Arial, sans-serif" font-size="13" font-weight="600" fill="#fafafa" text-anchor="middle">WORK SURVIVORS</text>
          <circle cx="60" cy="50" r="4" fill="#fafafa" opacity="0.6"/>
          <circle cx="75" cy="50" r="4" fill="#fafafa" opacity="0.6"/>
          <circle cx="90" cy="50" r="4" fill="#fafafa" opacity="0.6"/>
          
          <!-- Messages -->
          <!-- Incoming message 1 -->
          <rect x="50" y="100" width="200" height="60" rx="12" fill="#e8e8e8"/>
          <text x="60" y="120" font-family="Arial, sans-serif" font-size="11" font-weight="700" fill="#0a0a0a">Sarah</text>
          <text x="60" y="137" font-family="Arial, sans-serif" font-size="13" fill="#0a0a0a">Bill just replied-all to</text>
          <text x="60" y="152" font-family="Arial, sans-serif" font-size="13" fill="#0a0a0a">a company-wide email</text>
          
          <!-- Outgoing message 1 -->
          <rect x="150" y="175" width="218" height="45" rx="12" fill="#c8a96e"/>
          <text x="160" y="195" font-family="Arial, sans-serif" font-size="13" fill="#fafafa">No. Not today. I cannot.</text>
          <text x="160" y="210" font-family="Arial, sans-serif" font-size="13" fill="#fafafa">I simply cannot.</text>
          
          <!-- Incoming message 2 -->
          <rect x="50" y="235" width="190" height="45" rx="12" fill="#e8e8e8"/>
          <text x="60" y="255" font-family="Arial, sans-serif" font-size="11" font-weight="700" fill="#0a0a0a">Mike</text>
          <text x="60" y="272" font-family="Arial, sans-serif" font-size="13" fill="#0a0a0a">He included the CEO</text>
          
          <!-- Outgoing message 2 -->
          <rect x="180" y="295" width="188" height="45" rx="12" fill="#c8a96e"/>
          <text x="190" y="315" font-family="Arial, sans-serif" font-size="13" fill="#fafafa">This is a crime scene</text>
          <text x="190" y="330" font-family="Arial, sans-serif" font-size="13" fill="#fafafa">This is evidence</text>
          
          <!-- Incoming message 3 -->
          <rect x="50" y="355" width="240" height="60" rx="12" fill="#e8e8e8"/>
          <text x="60" y="375" font-family="Arial, sans-serif" font-size="11" font-weight="700" fill="#0a0a0a">Sarah</text>
          <text x="60" y="392" font-family="Arial, sans-serif" font-size="13" fill="#0a0a0a">I'm forwarding this to HR.</text>
          <text x="60" y="407" font-family="Arial, sans-serif" font-size="13" fill="#0a0a0a">For my own protection.</text>
          
          <!-- Typing indicator -->
          <rect x="50" y="430" width="80" height="20" rx="10" fill="#e8e8e8"/>
          <circle cx="70" cy="440" r="3" fill="#999">
            <animate attributeName="opacity" values="0.3;1;0.3" dur="1.4s" repeatCount="indefinite"/>
          </circle>
          <circle cx="90" cy="440" r="3" fill="#999">
            <animate attributeName="opacity" values="0.3;1;0.3" dur="1.4s" begin="0.2s" repeatCount="indefinite"/>
          </circle>
          <circle cx="110" cy="440" r="3" fill="#999">
            <animate attributeName="opacity" values="0.3;1;0.3" dur="1.4s" begin="0.4s" repeatCount="indefinite"/>
          </circle>
        </svg>
      {% endif %}
    </div>
  </div>
</section>

<style>
/* ==================== CHRONICLES SECTION ==================== */
.chronicles {
  background: linear-gradient(135deg, #f5efe4 0%, #f0ebe2 100%);
  border-top: 1.5px solid var(--black);
  border-bottom: 1.5px solid var(--black);
  padding: 5rem 0;
  position: relative;
}

.chronicles::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--accent), transparent);
  opacity: 0.3;
}

.chronicles-inner {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 5%;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 5rem;
  align-items: center;
}

.chronicles-content {
  padding-right: 2rem;
}

.chronicles-label {
  font-size: 0.65rem;
  font-weight: 700;
  letter-spacing: 0.25em;
  text-transform: uppercase;
  color: var(--accent);
  margin-bottom: 1.5rem;
  display: inline-block;
  padding: 0.5rem 1rem;
  background: rgba(200, 169, 110, 0.1);
  border: 1px solid var(--accent);
}

.chronicles-title {
  font-family: var(--font-display);
  font-size: 3.5rem;
  font-weight: 900;
  line-height: 1.1;
  margin-bottom: 1rem;
  color: var(--black);
  letter-spacing: -0.02em;
}

.chronicles-episode {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--black);
  margin-bottom: 1.5rem;
  line-height: 1.3;
}

.chronicles-tagline {
  font-size: 1.15rem;
  font-style: italic;
  color: var(--gray-600);
  margin-bottom: 1.5rem;
  line-height: 1.5;
  font-family: var(--font-display);
}

.chronicles-desc {
  font-size: 1rem;
  line-height: 1.7;
  color: var(--black);
  margin-bottom: 2.5rem;
}

.chronicles-buttons {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}

.chronicles-visual {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.chronicles-image {
  width: 100%;
  max-width: 500px;
  height: auto;
  border: 2px solid var(--black);
  box-shadow: 0 10px 40px rgba(0,0,0,0.1);
}

.chronicles-chat-mock {
  width: 100%;
  max-width: 400px;
  height: auto;
  filter: drop-shadow(0 10px 30px rgba(0,0,0,0.15));
}

@media (max-width: 968px) {
  .chronicles-inner {
    grid-template-columns: 1fr;
    gap: 3rem;
  }
  
  .chronicles-content {
    padding-right: 0;
    text-align: center;
  }
  
  .chronicles-title {
    font-size: 2.5rem;
  }
  
  .chronicles-buttons {
    justify-content: center;
  }
}
</style>

<!-- ==================== FEATURED POSTS ==================== -->
<section class="featured" id="featured">
  <div class="featured-header fade-up">
    <div>
      <div class="section-label">Latest Dispatches</div>
      <h2 class="section-title">Featured Posts</h2>
    </div>
    <a href="/posts" class="btn btn-secondary">View All Posts →</a>
  </div>
  <div class="posts-grid">
    {% for post in collections.featuredPosts %}
    <a href="{{ post.url }}" class="post-card fade-up">
      <div class="post-header">
        <span class="post-tag">{{ post.data.category }}</span>
        <div class="post-chaos-badge">
          <span style="font-size: 0.6rem; letter-spacing: 0.1em; opacity: 0.7;">CHAOS</span>
          <span style="font-weight: 800;">{{ post.data.chaos_score or '7' }}/10</span>
        </div>
      </div>
      <div class="post-body">
        <h3 class="post-title">{{ post.data.title }}</h3>
        <p class="post-teaser">{{ post.data.teaser }}</p>
        <div class="post-footer">
          <span class="post-meta">{{ post.date | readableDate }} · {{ post.data.read_time or '5' }} min read</span>
          <span class="post-read-more">Read More</span>
        </div>
      </div>
    </a>
    {% else %}
    <!-- Placeholder posts when no content yet -->
    <a href="#" class="post-card fade-up">
      <div class="post-header">
        <span class="post-tag">Work WTFs</span>
        <div class="post-chaos-badge">
          <span style="font-size: 0.6rem; letter-spacing: 0.1em; opacity: 0.7;">CHAOS</span>
          <span style="font-weight: 800;">8/10</span>
        </div>
      </div>
      <div class="post-body">
        <h3 class="post-title">The 47-Minute Meeting That Was, In Fact, An Email</h3>
        <p class="post-teaser">A real-time forensic analysis of how six adults with working calendars ended up in a conference room to discuss something that could have been resolved with three sentences and a reply-all.</p>
        <div class="post-footer">
          <span class="post-meta">Feb 12 · 6 min read</span>
          <span class="post-read-more">Read More</span>
        </div>
      </div>
    </a>
    <a href="#" class="post-card fade-up fade-up-delay-1">
      <div class="post-header">
        <span class="post-tag">Petty Offenses</span>
        <div class="post-chaos-badge">
          <span style="font-size: 0.6rem; letter-spacing: 0.1em; opacity: 0.7;">CHAOS</span>
          <span style="font-weight: 800;">6/10</span>
        </div>
      </div>
      <div class="post-body">
        <h3 class="post-title">Personal Space Is Not a Suggestion. It Is a Social Contract.</h3>
        <p class="post-teaser">An investigation into why certain individuals at coffee shop counters, grocery checkout lines, and every elevator in existence operate on the assumption that 18 inches of buffer space is negotiable.</p>
        <div class="post-footer">
          <span class="post-meta">Feb 10 · 5 min read</span>
          <span class="post-read-more">Read More</span>
        </div>
      </div>
    </a>
    <a href="#" class="post-card fade-up fade-up-delay-2">
      <div class="post-header">
        <span class="post-tag">Life &amp; Relationships</span>
        <div class="post-chaos-badge">
          <span style="font-size: 0.6rem; letter-spacing: 0.1em; opacity: 0.7;">CHAOS</span>
          <span style="font-weight: 800;">9/10</span>
        </div>
      </div>
      <div class="post-body">
        <h3 class="post-title">They Said "Let's Keep It Casual" And Then Sent a Paragraph</h3>
        <p class="post-teaser">A careful textual analysis of the modern communication breakdown, in which the rules are invented, redefined, and quietly enforced by exactly one party who did not share the rulebook.</p>
        <div class="post-footer">
          <span class="post-meta">Feb 8 · 7 min read</span>
          <span class="post-read-more">Read More</span>
        </div>
      </div>
    </a>
    {% endfor %}
  </div>
</section>
<!-- ==================== NEWSLETTER ==================== -->
<section class="newsletter" id="newsletter">
  <div class="newsletter-left fade-up">
    <div class="newsletter-label">Weekly Dispatch</div>
    <h2 class="newsletter-title">The Weekly <em>WTF</em></h2>
    <p class="newsletter-desc">One story. One observation. One exhale of recognition. Every Saturday morning when you're trying to decompress from the previous five days. No spam. No motivational fluff. Just the good stuff.</p>
    <div style="margin-top:2rem;">
      <p style="font-size:0.85rem;color:rgba(255,255,255,0.5);margin-bottom:0.5rem;font-weight:700;letter-spacing:0.1em;">JOIN 14,000+ READERS WHO GET:</p>
    </div>
    <div class="newsletter-perks">
      <div class="newsletter-perk"><span class="newsletter-perk-dot"></span>Weekly curated WTF stories from work, life, and the in-between</div>
      <div class="newsletter-perk"><span class="newsletter-perk-dot"></span>Exclusive reader-submitted chaos, anonymized for your protection</div>
      <div class="newsletter-perk"><span class="newsletter-perk-dot"></span>Early access to new merch drops and print releases</div>
      <div class="newsletter-perk"><span class="newsletter-perk-dot"></span>Occasional polls to determine the worst social offense of the week</div>
    </div>
  </div>
  <div class="newsletter-right fade-up fade-up-delay-1">
    <form name="newsletter" method="POST" data-netlify="true" class="newsletter-form">
      <div class="newsletter-field">
        <label for="first-name">First Name</label>
        <input type="text" id="first-name" name="first_name" placeholder="Your first name">
      </div>
      <div class="newsletter-field">
        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" placeholder="you@example.com" required>
      </div>
      <button type="submit" class="newsletter-submit">Subscribe to the Chaos →</button>
    </form>
    <p class="newsletter-promise">One email per week. Unsubscribe whenever. No hard feelings. (There will be feelings. Just not at you.)</p>
  </div>
</section>

<!-- ==================== QUOTE BANNER ==================== -->
<div class="quote-banner fade-up">
  <span class="quote-deco-l">"</span>
  <blockquote class="quote-text">"Some days are a spreadsheet. Some days are a crime scene. Most days are both."</blockquote>
  <p class="quote-attr">— A WTF Kind of Day · The Founding Observation</p>
  <span class="quote-deco-r">"</span>
</div>

<!-- ==================== MERCH ==================== -->
<!-- ==================== MERCH SECTION WITH ORIGIN STORY MODAL ==================== -->
<section class="merch" id="merch">
  <div class="merch-header">
    <div>
      <div class="section-label">The Shop</div>
      <h2 class="section-title">Wear the Chaos</h2>
    </div>
    <p class="merch-header-right">Editorial objects for people who survived the week. Each item has an origin story. Most are therapy-adjacent.</p>
  </div>
  
  <div class="merch-grid">
    {% for product in collections.merch %}
    <div class="merch-card">
      <!-- Product Image -->
      <div class="merch-img">
        {% if product.data.badge %}
        <span class="merch-badge">{{ product.data.badge }}</span>
        {% endif %}
        
        {% if product.data.limited_edition %}
        <span class="merch-badge">Limited Edition</span>
        {% endif %}
        
        {% if product.data.in_stock == false %}
        <span class="merch-badge" style="background: var(--gray-600);">Sold Out</span>
        {% endif %}
        
        <div class="merch-product-art">
          {% if product.data.images and product.data.images.length > 0 %}
          <img src="{{ product.data.images[0] }}" alt="{{ product.data.title }}" style="max-width:100%;max-height:100%;object-fit:contain;">
          {% else %}
          <svg viewBox="0 0 160 180" fill="none" xmlns="http://www.w3.org/2000/svg" style="width:70%">
            <rect x="30" y="20" width="100" height="140" rx="4" stroke="currentColor" stroke-width="1.5" opacity="0.3"/>
            <text x="80" y="100" font-family="Montserrat,sans-serif" font-size="11" font-weight="700" fill="currentColor" text-anchor="middle" opacity="0.4">{{ product.data.type }}</text>
          </svg>
          {% endif %}
        </div>
      </div>

      <!-- Product Info -->
      <div class="merch-body">
        <div class="merch-type">{{ product.data.type }}</div>
        <div class="merch-name">{{ product.data.title }}</div>
        <div class="merch-slogan">{{ product.data.slogan }}</div>
        
        <!-- Origin Story Link -->
        {% if product.data.origin_story %}
        <button class="merch-origin-btn" onclick="openOriginModal('{{ loop.index0 }}')">
          Origin Story →
        </button>
        {% endif %}
        
        <!-- Related Post Link -->
        {% if product.data.related_post %}
        <div class="merch-related">
          <a href="/content/posts/{{ product.data.related_post }}">As seen in: {{ product.data.related_post | replace('-', ' ') | title }} →</a>
        </div>
        {% endif %}
        
        <!-- Price & Add to Cart -->
        <div class="merch-price-row">
          <span class="merch-price">${{ product.data.price }}</span>
          {% if product.data.in_stock == false %}
          <button class="merch-add" disabled style="opacity: 0.5; cursor: not-allowed;">Sold Out</button>
          {% else %}
          <button class="merch-add">Add to Cart</button>
          {% endif %}
        </div>
      </div>
    </div>

    <!-- Hidden data for modal -->
    <div id="origin-data-{{ loop.index0 }}" style="display:none;" 
         data-name="{{ product.data.title }}"
         data-type="{{ product.data.type }}"
         data-slogan="{{ product.data.slogan }}"
         data-story="{{ product.data.origin_story }}"
         data-description="{{ product.templateContent }}"
         data-related="{{ product.data.related_post }}">
    </div>
    {% endfor %}
  </div>
</section>

<!-- Origin Story Modal -->
<div id="origin-modal" class="origin-modal">
  <div class="origin-modal-overlay" onclick="closeOriginModal()"></div>
  <div class="origin-modal-content">
    <button class="origin-modal-close" onclick="closeOriginModal()" aria-label="Close">&times;</button>
    
    <div class="origin-modal-header">
      <div class="origin-modal-type" id="modal-type"></div>
      <h2 class="origin-modal-title" id="modal-title"></h2>
      <p class="origin-modal-slogan" id="modal-slogan"></p>
    </div>

    <div class="origin-modal-body">
      <h3 class="origin-story-heading">Origin Story</h3>
      <p class="origin-story-text" id="modal-story"></p>
      
      <div class="origin-description" id="modal-description"></div>
      
      <div class="origin-related" id="modal-related"></div>
    </div>

    <div class="origin-modal-footer">
      <button class="btn btn-primary" onclick="closeOriginModal()">Close</button>
    </div>
  </div>
</div>

<script>
function openOriginModal(index) {
  const data = document.getElementById('origin-data-' + index);
  const modal = document.getElementById('origin-modal');
  
  if (!data) return;
  
  // Populate modal
  document.getElementById('modal-type').textContent = data.dataset.type;
  document.getElementById('modal-title').textContent = data.dataset.name;
  document.getElementById('modal-slogan').textContent = data.dataset.slogan;
  document.getElementById('modal-story').textContent = data.dataset.story;
  
  const desc = data.dataset.description;
  const descEl = document.getElementById('modal-description');
  if (desc && desc !== 'undefined' && desc !== '') {
    descEl.innerHTML = '<h4>About This Product</h4><p>' + desc + '</p>';
    descEl.style.display = 'block';
  } else {
    descEl.style.display = 'none';
  }
  
  const related = data.dataset.related;
  const relatedEl = document.getElementById('modal-related');
  if (related && related !== 'undefined' && related !== '') {
    relatedEl.innerHTML = '<a href="/content/posts/' + related + '" class="origin-related-link">Read the post that inspired this →</a>';
    relatedEl.style.display = 'block';
  } else {
    relatedEl.style.display = 'none';
  }
  
  // Show modal
  modal.classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeOriginModal() {
  const modal = document.getElementById('origin-modal');
  modal.classList.remove('active');
  document.body.style.overflow = '';
}

// Close on ESC key
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    closeOriginModal();
  }
});
</script>

<style>
/* Updated Merch Card Styles */
.merch-origin-btn {
  font-size: 0.7rem;
  font-weight: 700;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--accent);
  background: transparent;
  border: none;
  padding: 0.5rem 0;
  cursor: pointer;
  text-align: left;
  transition: color 0.2s;
  margin-bottom: 0.5rem;
  display: block;
}

.merch-origin-btn:hover {
  color: var(--black);
}

.merch-related {
  font-size: 0.7rem;
  margin-bottom: 1rem;
}

.merch-related a {
  color: var(--accent);
  text-decoration: none;
  font-weight: 600;
  letter-spacing: 0.05em;
}

.merch-related a:hover {
  text-decoration: underline;
}

/* Origin Story Modal */
.origin-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 2rem;
}

.origin-modal.active {
  display: flex;
}

.origin-modal-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(10, 10, 10, 0.9);
  backdrop-filter: blur(4px);
}

.origin-modal-content {
  position: relative;
  background: var(--white);
  max-width: 700px;
  width: 100%;
  max-height: 85vh;
  overflow-y: auto;
  border: 2px solid var(--black);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
  z-index: 10000;
}

.origin-modal-close {
  position: absolute;
  top: 1.5rem;
  right: 1.5rem;
  width: 40px;
  height: 40px;
  border: 1.5px solid var(--black);
  background: var(--white);
  font-size: 1.5rem;
  line-height: 1;
  cursor: pointer;
  transition: all 0.2s;
  font-weight: 300;
  z-index: 10;
}

.origin-modal-close:hover {
  background: var(--black);
  color: var(--white);
}

.origin-modal-header {
  padding: 3rem 3rem 2rem;
  border-bottom: 1.5px solid var(--black);
  background: var(--gray-100);
}

.origin-modal-type {
  font-size: 0.7rem;
  font-weight: 700;
  letter-spacing: 0.25em;
  text-transform: uppercase;
  color: var(--gray-400);
  margin-bottom: 0.5rem;
}

.origin-modal-title {
  font-family: var(--font-display);
  font-size: 2.5rem;
  font-weight: 900;
  margin-bottom: 0.8rem;
  line-height: 1.1;
}

.origin-modal-slogan {
  font-size: 1.1rem;
  color: var(--gray-600);
  font-style: italic;
  line-height: 1.5;
}

.origin-modal-body {
  padding: 3rem;
}

.origin-story-heading {
  font-size: 0.75rem;
  font-weight: 700;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--accent);
  margin-bottom: 1rem;
}

.origin-story-text {
  font-size: 1.1rem;
  line-height: 1.8;
  color: var(--black);
  margin-bottom: 2rem;
}

.origin-description {
  margin-top: 2rem;
  padding-top: 2rem;
  border-top: 1px solid var(--gray-200);
}

.origin-description h4 {
  font-size: 0.75rem;
  font-weight: 700;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--gray-600);
  margin-bottom: 1rem;
}

.origin-description p {
  font-size: 1rem;
  line-height: 1.7;
  color: var(--gray-600);
}

.origin-related {
  margin-top: 2rem;
  padding: 1.5rem;
  background: var(--accent-light);
  border: 1.5px solid var(--accent);
}

.origin-related-link {
  color: var(--black);
  font-weight: 700;
  text-decoration: none;
  font-size: 1rem;
  display: inline-block;
}

.origin-related-link:hover {
  text-decoration: underline;
}

.origin-modal-footer {
  padding: 2rem 3rem;
  border-top: 1px solid var(--gray-200);
  text-align: center;
}

@media (max-width: 768px) {
  .origin-modal {
    padding: 1rem;
  }
  
  .origin-modal-content {
    max-height: 90vh;
  }
  
  .origin-modal-header {
    padding: 2rem 1.5rem 1.5rem;
  }
  
  .origin-modal-title {
    font-size: 2rem;
  }
  
  .origin-modal-body {
    padding: 2rem 1.5rem;
  }
}
</style>
</section>

<!-- ==================== ABOUT ==================== -->
<section class="about" id="about">
  <div class="about-left fade-up">
    <div class="section-label">Who We Are</div>
    <h2 class="section-title">Built for People Who've Had Enough</h2>
    <p class="about-body">
      <strong>A WTF Kind of Day</strong> is a humor-driven publication for modern adults navigating daily chaos — workplace nonsense, relationship confusion, petty offenses, and minor disasters.
      <br><br>
      We don't offer advice. We don't suggest positive reframes. We document the chaos with dry wit and minimal patience, and let you feel validated by the fact that yes, this is actually happening.
    </p>
    <blockquote class="about-manifesto">"If it was absurd, we'll write about it. If it was relatable, someone already submitted it."</blockquote>
    <a href="/posts" class="btn btn-primary" style="margin-top:2.5rem;display:inline-flex;">Browse the Archives →</a>
  </div>
  <div class="about-right fade-up fade-up-delay-1">
    <div class="about-value">
      <div class="about-value-title">Dry Wit Required</div>
      <p class="about-value-text">We write for people who recognize absurdity when they see it and appreciate documentation over solutions.</p>
    </div>
    <div class="about-value">
      <div class="about-value-title">Zero Toxic Positivity</div>
      <p class="about-value-text">No silver linings unless they're sarcastic. No "lessons learned" unless the lesson is "people are exhausting."</p>
    </div>
<!-- ==================== SUBMIT WTF MODAL ==================== -->
<div id="submit-modal" class="submit-modal">
  <div class="submit-modal-overlay"></div>
  <div class="submit-modal-content">
    <button class="submit-modal-close" aria-label="Close">&times;</button>
    
    <div class="submit-modal-header">
      <h2 class="submit-modal-title">Submit Your WTF</h2>
      <p class="submit-modal-subtitle">Share your chaos. We document it with scientific rigor and zero judgment.</p>
    </div>

    <form name="wtf-submissions" method="POST" data-netlify="true" data-netlify-honeypot="bot-field" action="/submission-success" class="submit-form">
      <!-- Honeypot -->
      <p style="display:none;">
        <label>Don't fill this out: <input name="bot-field" /></label>
      </p>
      <input type="hidden" name="form-name" value="wtf-submissions" />

      <!-- Story -->
      <div class="submit-field">
        <label for="story">Your WTF Moment <span class="required">*</span></label>
        <textarea 
          id="story" 
          name="story" 
          rows="8" 
          placeholder="Tell us what happened. The more detail, the better. We're here for the full chaos report."
          required
        ></textarea>
        <div class="submit-field-hint">Be specific. We need the details for proper documentation.</div>
      </div>

      <!-- Category -->
      <div class="submit-field">
        <label for="category">Category <span class="required">*</span></label>
        <select id="category" name="category" required>
          <option value="">Select a category</option>
          <option value="Work WTFs">Work WTFs</option>
          <option value="Life & Relationships">Life & Relationships</option>
          <option value="Everyday Disasters">Everyday Disasters</option>
          <option value="Petty Offenses">Petty Offenses</option>
        </select>
      </div>

      <!-- Chaos Score -->
      <div class="submit-field">
        <label for="chaos-score">Chaos Score (1-10) <span class="required">*</span></label>
        <div class="chaos-slider-container">
          <input 
            type="range" 
            id="chaos-score" 
            name="chaos_score" 
            min="1" 
            max="10" 
            value="5" 
            class="chaos-slider"
            required
          />
          <div class="chaos-slider-labels">
            <span>1<br><small>Mild Annoyance</small></span>
            <span>5<br><small>Solid WTF</small></span>
            <span>10<br><small>Crime Scene</small></span>
          </div>
          <div class="chaos-slider-value">Score: <strong id="chaos-value">5</strong>/10</div>
        </div>
      </div>

      <!-- Location (Optional) -->
      <div class="submit-field">
        <label for="location">Location <span class="optional">(Optional)</span></label>
        <input 
          type="text" 
          id="location" 
          name="location" 
          placeholder="City, State (e.g., Austin, TX)"
        />
        <div class="submit-field-hint">Helps us document regional chaos patterns. No specific addresses.</div>
      </div>

      <!-- Name / Anonymous -->
      <div class="submit-field">
        <label for="submitter-name">Your Name <span class="optional">(Optional)</span></label>
        <input 
          type="text" 
          id="submitter-name" 
          name="submitter_name" 
          placeholder="Your name or leave blank"
        />
        <div class="submit-field-checkbox">
          <input type="checkbox" id="anonymous" name="anonymous" value="yes" />
          <label for="anonymous">Submit anonymously (we won't use your name)</label>
        </div>
      </div>

      <!-- Consent -->
      <div class="submit-field">
        <div class="submit-field-checkbox submit-consent">
          <input type="checkbox" id="consent" name="consent" value="yes" required />
          <label for="consent">
            I consent for this story to be published on A WTF Kind of Day. 
            I understand it may be edited for length and clarity. 
            All submissions are anonymized unless I specifically request attribution.
          </label>
        </div>
      </div>

      <!-- Submit Button -->
      <button type="submit" class="submit-button">Submit Your Chaos →</button>
    </form>

    <p class="submit-footer-note">
      All submissions are reviewed before publishing. We document the chaos with respect and dry wit. 
      No personal information is shared without your explicit permission.
    </p>
  </div>
</div>

<!-- Chaos Score Slider JavaScript -->
<script>
  const chaosSlider = document.getElementById('chaos-score');
  const chaosValue = document.getElementById('chaos-value');
  
  if (chaosSlider && chaosValue) {
    chaosSlider.addEventListener('input', function() {
      chaosValue.textContent = this.value;
    });
  }

  // Modal controls
  const submitModal = document.getElementById('submit-modal');
  const submitButton = document.getElementById('submit-wtf-btn');
  const closeButton = document.querySelector('.submit-modal-close');
  const overlay = document.querySelector('.submit-modal-overlay');

  if (submitButton) {
    submitButton.addEventListener('click', function(e) {
      e.preventDefault();
      submitModal.classList.add('active');
      document.body.style.overflow = 'hidden';
    });
  }

  if (closeButton) {
    closeButton.addEventListener('click', function() {
      submitModal.classList.remove('active');
      document.body.style.overflow = '';
    });
  }

  if (overlay) {
    overlay.addEventListener('click', function() {
      submitModal.classList.remove('active');
      document.body.style.overflow = '';
    });
  }

  // Close on ESC key
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' && submitModal && submitModal.classList.contains('active')) {
      submitModal.classList.remove('active');
      document.body.style.overflow = '';
    }
  });
</script>

<style>
/* ==================== SUBMIT MODAL STYLES ==================== */
.submit-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 2rem;
}

.submit-modal.active {
  display: flex;
}

.submit-modal-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(10, 10, 10, 0.85);
  backdrop-filter: blur(4px);
}

.submit-modal-content {
  position: relative;
  background: var(--white);
  max-width: 700px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  border: 2px solid var(--black);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  z-index: 10000;
}

.submit-modal-close {
  position: absolute;
  top: 1.5rem;
  right: 1.5rem;
  width: 40px;
  height: 40px;
  border: 1.5px solid var(--black);
  background: var(--white);
  font-size: 1.5rem;
  line-height: 1;
  cursor: pointer;
  transition: all 0.2s;
  font-weight: 300;
  z-index: 10;
}

.submit-modal-close:hover {
  background: var(--black);
  color: var(--white);
}

.submit-modal-header {
  padding: 3rem 3rem 2rem;
  border-bottom: 1.5px solid var(--black);
  background: var(--gray-100);
}

.submit-modal-title {
  font-family: var(--font-display);
  font-size: 2.5rem;
  font-weight: 900;
  margin-bottom: 0.8rem;
  line-height: 1.1;
}

.submit-modal-subtitle {
  font-size: 1rem;
  color: var(--gray-600);
  line-height: 1.6;
}

.submit-form {
  padding: 3rem;
}

.submit-field {
  margin-bottom: 2rem;
}

.submit-field label {
  display: block;
  font-size: 0.75rem;
  font-weight: 700;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  margin-bottom: 0.6rem;
  color: var(--black);
}

.required {
  color: var(--red);
}

.optional {
  color: var(--gray-400);
  font-weight: 600;
  text-transform: none;
  letter-spacing: 0;
}

.submit-field input[type="text"],
.submit-field input[type="email"],
.submit-field textarea,
.submit-field select {
  width: 100%;
  padding: 0.9rem 1.2rem;
  border: 1.5px solid var(--gray-200);
  background: var(--white);
  font-family: var(--font-body);
  font-size: 0.95rem;
  transition: border-color 0.2s;
  outline: none;
}

.submit-field input:focus,
.submit-field textarea:focus,
.submit-field select:focus {
  border-color: var(--accent);
}

.submit-field textarea {
  resize: vertical;
  min-height: 150px;
  line-height: 1.6;
}

.submit-field-hint {
  font-size: 0.75rem;
  color: var(--gray-400);
  margin-top: 0.5rem;
  line-height: 1.5;
}

.submit-field-checkbox {
  display: flex;
  align-items: flex-start;
  gap: 0.7rem;
  margin-top: 0.8rem;
}

.submit-field-checkbox input[type="checkbox"] {
  margin-top: 0.2rem;
  width: 18px;
  height: 18px;
  flex-shrink: 0;
}

.submit-field-checkbox label {
  font-size: 0.85rem;
  font-weight: 400;
  text-transform: none;
  letter-spacing: 0;
  line-height: 1.5;
  margin: 0;
}

.submit-consent {
  padding: 1.2rem;
  background: var(--gray-100);
  border: 1px solid var(--gray-200);
}

.chaos-slider-container {
  padding: 1.5rem;
  background: var(--gray-100);
  border: 1.5px solid var(--gray-200);
}

.chaos-slider {
  width: 100%;
  height: 8px;
  background: var(--gray-200);
  outline: none;
  border-radius: 0;
  -webkit-appearance: none;
  margin-bottom: 1rem;
}

.chaos-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 24px;
  height: 24px;
  background: var(--accent);
  border: 2px solid var(--black);
  cursor: pointer;
}

.chaos-slider::-moz-range-thumb {
  width: 24px;
  height: 24px;
  background: var(--accent);
  border: 2px solid var(--black);
  cursor: pointer;
  border-radius: 0;
}

.chaos-slider-labels {
  display: flex;
  justify-content: space-between;
  font-size: 0.7rem;
  color: var(--gray-600);
  margin-bottom: 0.8rem;
  font-weight: 600;
}

.chaos-slider-labels small {
  display: block;
  font-size: 0.65rem;
  color: var(--gray-400);
  margin-top: 0.2rem;
  font-weight: 400;
}

.chaos-slider-value {
  text-align: center;
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--black);
}

.chaos-slider-value strong {
  font-size: 1.5rem;
  color: var(--accent);
  font-weight: 800;
}

.submit-button {
  width: 100%;
  background: var(--black);
  color: var(--white);
  border: 1.5px solid var(--black);
  padding: 1.2rem 2rem;
  font-family: var(--font-body);
  font-size: 0.8rem;
  font-weight: 700;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  cursor: pointer;
  transition: all 0.25s;
  margin-top: 1rem;
}

.submit-button:hover {
  background: var(--white);
  color: var(--black);
}

.submit-footer-note {
  padding: 2rem 3rem 3rem;
  font-size: 0.8rem;
  color: var(--gray-400);
  line-height: 1.6;
  text-align: center;
  border-top: 1px solid var(--gray-200);
}

@media (max-width: 768px) {
  .submit-modal {
    padding: 1rem;
  }
  
  .submit-modal-content {
    max-height: 95vh;
  }
  
  .submit-modal-header {
    padding: 2rem 1.5rem 1.5rem;
  }
  
  .submit-modal-title {
    font-size: 2rem;
  }
  
  .submit-form {
    padding: 2rem 1.5rem;
  }
  
  .submit-footer-note {
    padding: 1.5rem;
  }
}
</style>
